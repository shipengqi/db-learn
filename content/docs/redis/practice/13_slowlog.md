---
title: 慢查询日志
weight: 13
---

Redis 的慢查询日志功能用于记录执行时间超过给定时长的命令请求，可以通过这个功能产生的日志来监视和优化查询速度。

服务器配置有两个和慢查询日志相关的选项：

- `slowlog-log-slower-than` 选项指定执行时间超过多少微秒（1 秒等于 1,000,000 微秒）的命令请求会被记录到日志上。
- `slowlog-max-len` 选项指定服务器最多保存多少条慢查询日志。当服务器储存的慢查询日志数量等于 `slowlog-max-len` 选项的值时，服务器在添加一条新的慢查询日志之前， 会先将最旧的一条慢查询日志删除。

## 查看慢查询日志

使用 `SLOWLOG GET` 命令查看服务器所保存的慢查询日志：

```sh
redis> SLOWLOG GET
1) 1) (integer) 4               # 日志的唯一标识符（uid）
   2) (integer) 1378781447      # 命令执行时的 UNIX 时间戳
   3) (integer) 13              # 命令执行的时长，以微秒计算
   4) 1) "SET"                  # 命令以及命令参数
      2) "database"
      3) "Redis"
```
